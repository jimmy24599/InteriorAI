"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/plan/page",{

/***/ "(app-pages-browser)/./services/geminiService.ts":
/*!***********************************!*\
  !*** ./services/geminiService.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeHomePlan: () => (/* binding */ analyzeHomePlan),\n/* harmony export */   generateVideo: () => (/* binding */ generateVideo),\n/* harmony export */   redesignImage: () => (/* binding */ redesignImage)\n/* harmony export */ });\n/* harmony import */ var _google_genai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/genai */ \"(app-pages-browser)/./node_modules/@google/genai/dist/web/index.mjs\");\n/* harmony import */ var _utils_fileUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/fileUtils */ \"(app-pages-browser)/./utils/fileUtils.ts\");\n\n\n// Fix: Initialize the GoogleGenAI client according to guidelines.\nconst ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n    apiKey: \"AIzaSyD-Ytmhq1FvE2F0CE0VSYIA_Wcuw_Lhy1s\"\n});\n/**\n * Redesigns an image based on a user's prompt.\n * Uses gemini-2.5-flash-image-preview for image editing.\n * @param imageFile The original image file.\n * @param prompt The user's description of the desired changes.\n * @returns A base64 encoded string of the generated image.\n */ const redesignImage = async (imageFile, prompt)=>{\n    // Fix: Convert file to base64 for the API request.\n    const base64ImageData = await (0,_utils_fileUtils__WEBPACK_IMPORTED_MODULE_1__.fileToBase64)(imageFile);\n    // Fix: Use generateContent with the image editing model.\n    const response = await ai.models.generateContent({\n        model: 'gemini-2.5-flash-image-preview',\n        contents: {\n            parts: [\n                {\n                    inlineData: {\n                        data: base64ImageData,\n                        mimeType: imageFile.type\n                    }\n                },\n                {\n                    text: \"Redesign this room with the following style: \".concat(prompt)\n                }\n            ]\n        },\n        config: {\n            // Fix: responseModalities must include both IMAGE and TEXT for this model.\n            responseModalities: [\n                _google_genai__WEBPACK_IMPORTED_MODULE_0__.Modality.IMAGE,\n                _google_genai__WEBPACK_IMPORTED_MODULE_0__.Modality.TEXT\n            ]\n        }\n    });\n    // Fix: Extract the generated image data from the response.\n    // The model can return both text and image, so we loop to find the image part.\n    for (const part of response.candidates[0].content.parts){\n        if (part.inlineData) {\n            return part.inlineData.data;\n        }\n    }\n    return null;\n};\n// Fix: Add missing generateVideo function to resolve import error.\n/**\n * Generates a video based on a text prompt and an optional image.\n * Uses veo-2.0-generate-001.\n * @param prompt The text prompt for video generation.\n * @param imageFile An optional initial image.\n * @param aspectRatio The desired aspect ratio of the video.\n * @param setProgressMessage A callback to update the UI with progress.\n * @returns A URL for the generated video, or null if it fails.\n */ const generateVideo = async (prompt, imageFile, aspectRatio, setProgressMessage)=>{\n    var _operation_response_generatedVideos__video, _operation_response_generatedVideos_, _operation_response_generatedVideos, _operation_response;\n    setProgressMessage('Preparing assets for video generation...');\n    const generateVideosParams = {\n        model: 'veo-2.0-generate-001',\n        prompt: \"\".concat(prompt, \" (aspect ratio: \").concat(aspectRatio, \")\"),\n        config: {\n            numberOfVideos: 1\n        }\n    };\n    if (imageFile) {\n        setProgressMessage('Encoding image for video generation...');\n        const base64ImageData = await (0,_utils_fileUtils__WEBPACK_IMPORTED_MODULE_1__.fileToBase64)(imageFile);\n        generateVideosParams.image = {\n            imageBytes: base64ImageData,\n            mimeType: imageFile.type\n        };\n    }\n    setProgressMessage('Sending request to video generation model...');\n    let operation = await ai.models.generateVideos(generateVideosParams);\n    setProgressMessage('Video generation in progress... This may take a few minutes.');\n    while(!operation.done){\n        await new Promise((resolve)=>setTimeout(resolve, 10000));\n        setProgressMessage('Checking video status...');\n        operation = await ai.operations.getVideosOperation({\n            operation: operation\n        });\n    }\n    const downloadLink = (_operation_response = operation.response) === null || _operation_response === void 0 ? void 0 : (_operation_response_generatedVideos = _operation_response.generatedVideos) === null || _operation_response_generatedVideos === void 0 ? void 0 : (_operation_response_generatedVideos_ = _operation_response_generatedVideos[0]) === null || _operation_response_generatedVideos_ === void 0 ? void 0 : (_operation_response_generatedVideos__video = _operation_response_generatedVideos_.video) === null || _operation_response_generatedVideos__video === void 0 ? void 0 : _operation_response_generatedVideos__video.uri;\n    if (!downloadLink) {\n        throw new Error('Video generation succeeded but no download link was found.');\n    }\n    setProgressMessage('Video generated! Downloading video data...');\n    // The response.body contains the MP4 bytes. You must append an API key when fetching from the download link.\n    const response = await fetch(\"\".concat(downloadLink, \"&key=\").concat(\"AIzaSyD-Ytmhq1FvE2F0CE0VSYIA_Wcuw_Lhy1s\"));\n    if (!response.ok) {\n        throw new Error(\"Failed to download video: \".concat(response.statusText));\n    }\n    const videoBlob = await response.blob();\n    const videoUrl = URL.createObjectURL(videoBlob);\n    setProgressMessage('Video ready!');\n    return videoUrl;\n};\n/**\n * Analyzes a home floor plan image and extracts detailed information as JSON.\n * Uses gemini-2.5-flash.\n * @param imageFile The floor plan image.\n * @returns A JSON string with the detailed analysis.\n */ const analyzeHomePlan = async (imageFile)=>{\n    const base64ImageData = await (0,_utils_fileUtils__WEBPACK_IMPORTED_MODULE_1__.fileToBase64)(imageFile);\n    const schema = {\n        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n        properties: {\n            rooms: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                description: \"List of all rooms and distinct spaces identified in the floor plan.\",\n                items: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                    properties: {\n                        name: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                            description: 'The name of the space (e.g., \"Living Room\", \"Master Bedroom\", \"Master Bathroom\").'\n                        },\n                        roomType: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                            description: 'The type of room (e.g., \"Bedroom\", \"Bathroom\", \"Kitchen\", \"Living Room\", \"Garage\", \"Utility Room\", \"Closet\", \"Hallway\").'\n                        },\n                        dimensions: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                            description: 'The exact dimensions of the room as written on the plan (e.g., \"12ft x 15ft\", \"8\\'6\\\" x 10\\'3\\\"\").'\n                        },\n                        area: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                            description: 'The calculated area of the room in square feet (e.g., \"180 sq ft\", \"120 sq ft\").'\n                        },\n                        features: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            description: \"A comprehensive list of all features within this space, including their precise locations and specifications.\",\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                                properties: {\n                                    name: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"The name of the feature (e.g., 'Window', 'Door', 'Sink', 'Shower', 'Toilet', 'Sofa', 'Bed', 'Closet').\"\n                                    },\n                                    position: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"The precise location of the feature (e.g., 'Centered on the north wall', 'In the southeast corner', 'Left of the main entrance', 'Against the west wall').\"\n                                    },\n                                    size: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"The size or dimensions of the feature if visible (e.g., '3ft wide', 'Standard size', 'Double door', 'Bay window').\"\n                                    },\n                                    type: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"The type or style of the feature (e.g., 'Sliding door', 'French door', 'Single hung window', 'Walk-in shower', 'Freestanding tub').\"\n                                    },\n                                    additionalInfo: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Any additional relevant information about the feature (e.g., 'Opens to exterior', 'Connects to hallway', 'Has built-in storage', 'Includes medicine cabinet').\"\n                                    }\n                                },\n                                required: [\n                                    'name',\n                                    'position'\n                                ]\n                            }\n                        },\n                        doors: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            description: \"Detailed information about all doors in this room.\",\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                                properties: {\n                                    location: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Where the door is located (e.g., 'North wall', 'East wall')\"\n                                    },\n                                    destination: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Where the door leads to (e.g., 'Hallway', 'Master Bedroom', 'Exterior')\"\n                                    },\n                                    type: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Type of door (e.g., 'Single door', 'Double door', 'Sliding door', 'Pocket door')\"\n                                    },\n                                    swing: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Door swing direction if visible (e.g., 'Swing in', 'Swing out', 'Left swing', 'Right swing')\"\n                                    }\n                                },\n                                required: [\n                                    'location',\n                                    'destination'\n                                ]\n                            }\n                        },\n                        windows: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            description: \"Detailed information about all windows in this room.\",\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                                properties: {\n                                    location: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Where the window is located (e.g., 'North wall', 'South wall')\"\n                                    },\n                                    type: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Type of window (e.g., 'Single hung', 'Double hung', 'Bay window', 'Picture window')\"\n                                    },\n                                    size: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Size of the window if visible (e.g., '3ft wide', 'Large window', 'Small window')\"\n                                    },\n                                    additionalInfo: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Additional window details (e.g., 'Corner window', 'Window seat', 'Skylight')\"\n                                    }\n                                },\n                                required: [\n                                    'location'\n                                ]\n                            }\n                        },\n                        fixtures: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            description: \"Detailed information about all fixtures and built-in elements.\",\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                                properties: {\n                                    name: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Name of the fixture (e.g., 'Sink', 'Toilet', 'Shower', 'Bathtub', 'Kitchen Island')\"\n                                    },\n                                    location: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Precise location of the fixture\"\n                                    },\n                                    type: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Type or style of fixture (e.g., 'Pedestal sink', 'Walk-in shower', 'Freestanding tub', 'Built-in oven')\"\n                                    },\n                                    additionalInfo: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Additional fixture details (e.g., 'Double vanity', 'Corner shower', 'Garden tub')\"\n                                    }\n                                },\n                                required: [\n                                    'name',\n                                    'location'\n                                ]\n                            }\n                        },\n                        storage: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            description: \"Information about storage areas and closets.\",\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                                properties: {\n                                    type: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Type of storage (e.g., 'Walk-in closet', 'Built-in shelving', 'Pantry', 'Coat closet')\"\n                                    },\n                                    location: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Location of the storage area\"\n                                    },\n                                    size: {\n                                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                                        description: \"Size of the storage area if visible\"\n                                    }\n                                },\n                                required: [\n                                    'type',\n                                    'location'\n                                ]\n                            }\n                        },\n                        notes: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                            description: \"Any additional notes or observations about this room (e.g., 'Open concept', 'Has vaulted ceiling', 'Corner room', 'Accessible design features').\"\n                        }\n                    },\n                    required: [\n                        'name',\n                        'roomType',\n                        'dimensions',\n                        'features'\n                    ]\n                }\n            }\n        },\n        required: [\n            'rooms'\n        ]\n    };\n    const response = await ai.models.generateContent({\n        model: 'gemini-2.5-flash',\n        contents: {\n            parts: [\n                {\n                    inlineData: {\n                        data: base64ImageData,\n                        mimeType: imageFile.type\n                    }\n                },\n                {\n                    text: \"Analyze the provided floor plan image.\"\n                }\n            ]\n        },\n        config: {\n            systemInstruction: \"You are an expert architectural plan analyst. Your task is to meticulously analyze the user's floor plan image with comprehensive detail.\\n\\n      ANALYSIS REQUIREMENTS:\\n      1. Identify every distinct room and space (e.g., Living Room, Master Bedroom, Master Bathroom, Kitchen, Garage, Utility Room, Closet, Hallway).\\n      2. For each space, extract its exact dimensions as written on the plan and calculate the area.\\n      3. Categorize each room by type (Bedroom, Bathroom, Kitchen, Living Room, Garage, Utility Room, Closet, Hallway).\\n      \\n      DETAILED FEATURE ANALYSIS:\\n      4. For each room, identify and categorize ALL features:\\n         - DOORS: Location, destination, type (single/double/sliding/pocket), swing direction\\n         - WINDOWS: Location, type (single hung/double hung/bay/picture), size, special features\\n         - FIXTURES: For bathrooms - exact positions of sinks, toilets, showers, bathtubs, vanities\\n         - FIXTURES: For kitchens - exact positions of appliances, islands, sinks, cabinets\\n         - FIXTURES: For bedrooms - exact positions of beds, dressers, closets\\n         - STORAGE: All closets, pantries, built-in shelving with locations and sizes\\n         - FURNITURE: Sofas, tables, chairs with precise positioning\\n      \\n      POSITIONING SPECIFICITY:\\n      5. For every feature, provide PRECISE positioning:\\n         - Use cardinal directions (north, south, east, west walls)\\n         - Specify exact locations (centered, corner, left/right side)\\n         - Include relationships to other features (next to, opposite, adjacent)\\n         - Note any special arrangements (L-shaped, U-shaped, island placement)\\n      \\n      ROOM-SPECIFIC DETAILS:\\n      6. For BATHROOMS: Identify exact positions of all fixtures (sink, toilet, shower, bathtub, vanity, medicine cabinet, linen closet)\\n      7. For KITCHENS: Identify exact positions of all appliances (refrigerator, stove, dishwasher, microwave), islands, sinks, cabinets\\n      8. For BEDROOMS: Identify exact positions of beds, dressers, nightstands, closets, windows\\n      9. For GARAGES: Identify exact positions of vehicles, storage areas, workbenches, doors\\n      10. For UTILITY ROOMS: Identify exact positions of washer, dryer, water heater, electrical panels\\n      \\n      ADDITIONAL INFORMATION:\\n      11. Note any special architectural features (vaulted ceilings, open concepts, corner rooms)\\n      12. Identify accessibility features if present\\n      13. Note any unusual or custom elements\\n      \\n      Return your complete analysis as a single JSON object that strictly adheres to the provided schema. Include ALL available information - do not omit any details.\",\n            responseMimeType: \"application/json\",\n            responseSchema: schema\n        }\n    });\n    return response.text;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEQ7QUFDVjtBQUVsRCxrRUFBa0U7QUFDbEUsTUFBTUksS0FBSyxJQUFJSixzREFBV0EsQ0FBQztJQUFFSyxRQUFRQyx5Q0FBc0M7QUFBQztBQUU1RTs7Ozs7O0NBTUMsR0FDTSxNQUFNRyxnQkFBZ0IsT0FBT0MsV0FBaUJDO0lBQ25ELG1EQUFtRDtJQUNuRCxNQUFNQyxrQkFBa0IsTUFBTVQsOERBQVlBLENBQUNPO0lBRTNDLHlEQUF5RDtJQUN6RCxNQUFNRyxXQUFXLE1BQU1ULEdBQUdVLE1BQU0sQ0FBQ0MsZUFBZSxDQUFDO1FBQy9DQyxPQUFPO1FBQ1BDLFVBQVU7WUFDUkMsT0FBTztnQkFDTDtvQkFDRUMsWUFBWTt3QkFDVkMsTUFBTVI7d0JBQ05TLFVBQVVYLFVBQVVZLElBQUk7b0JBQzFCO2dCQUNGO2dCQUNBO29CQUNFQyxNQUFNLGdEQUF1RCxPQUFQWjtnQkFDeEQ7YUFDRDtRQUNIO1FBQ0FhLFFBQVE7WUFDTiwyRUFBMkU7WUFDM0VDLG9CQUFvQjtnQkFBQ3hCLG1EQUFRQSxDQUFDeUIsS0FBSztnQkFBRXpCLG1EQUFRQSxDQUFDMEIsSUFBSTthQUFDO1FBQ3JEO0lBQ0Y7SUFFQSwyREFBMkQ7SUFDM0QsK0VBQStFO0lBQy9FLEtBQUssTUFBTUMsUUFBUWYsU0FBU2dCLFVBQVUsQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQ1osS0FBSyxDQUFFO1FBQ3ZELElBQUlVLEtBQUtULFVBQVUsRUFBRTtZQUNuQixPQUFPUyxLQUFLVCxVQUFVLENBQUNDLElBQUk7UUFDN0I7SUFDRjtJQUVBLE9BQU87QUFDVCxFQUFFO0FBRUYsbUVBQW1FO0FBQ25FOzs7Ozs7OztDQVFDLEdBQ00sTUFBTVcsZ0JBQWdCLE9BQzNCcEIsUUFDQUQsV0FDQXNCLGFBQ0FDO1FBZ0NxQkMsNENBQUFBLHNDQUFBQSxxQ0FBQUE7SUE5QnJCRCxtQkFBbUI7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QUFNcEIsK0NBQUlBLENBQUNrRSxNQUFNO3dDQUFFSCxhQUFhO29DQUFzQztnQ0FDaEY7Z0NBQ0FXLFVBQVU7b0NBQUM7b0NBQVE7aUNBQVc7NEJBQ2hDO3dCQUNGO3dCQUNBUSxPQUFPOzRCQUNMOUQsTUFBTXBCLCtDQUFJQSxDQUFDa0UsTUFBTTs0QkFDakJILGFBQWE7d0JBQ2Y7b0JBQ0Y7b0JBQ0FXLFVBQVU7d0JBQUM7d0JBQVE7d0JBQVk7d0JBQWM7cUJBQVc7Z0JBQzFEO1lBQ0Y7UUFDRjtRQUNBQSxVQUFVO1lBQUM7U0FBUTtJQUNyQjtJQUVBLE1BQU0vRCxXQUFXLE1BQU1ULEdBQUdVLE1BQU0sQ0FBQ0MsZUFBZSxDQUFDO1FBQy9DQyxPQUFPO1FBQ1BDLFVBQVU7WUFDUkMsT0FBTztnQkFDTDtvQkFBRUMsWUFBWTt3QkFBRUMsTUFBTVI7d0JBQWlCUyxVQUFVWCxVQUFVWSxJQUFJO29CQUFDO2dCQUFFO2dCQUNsRTtvQkFBRUMsTUFBTTtnQkFBeUM7YUFDbEQ7UUFDSDtRQUNBQyxRQUFRO1lBQ042RCxtQkFBb0I7WUFxQ3BCQyxrQkFBa0I7WUFDbEJDLGdCQUFnQjNCO1FBQ2xCO0lBQ0Y7SUFFQSxPQUFPL0MsU0FBU1UsSUFBSTtBQUN0QixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvYWhtZWQvRGVza3RvcC9BUFBTL2ludGVyaW9yLWFpLWRlc2lnbmVyL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuQUksIE1vZGFsaXR5LCBUeXBlIH0gZnJvbSBcIkBnb29nbGUvZ2VuYWlcIjtcbmltcG9ydCB7IGZpbGVUb0Jhc2U2NCB9IGZyb20gXCIuLi91dGlscy9maWxlVXRpbHNcIjtcblxuLy8gRml4OiBJbml0aWFsaXplIHRoZSBHb29nbGVHZW5BSSBjbGllbnQgYWNjb3JkaW5nIHRvIGd1aWRlbGluZXMuXG5jb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR0VNSU5JX0FQSV9LRVkgfSk7XG5cbi8qKlxuICogUmVkZXNpZ25zIGFuIGltYWdlIGJhc2VkIG9uIGEgdXNlcidzIHByb21wdC5cbiAqIFVzZXMgZ2VtaW5pLTIuNS1mbGFzaC1pbWFnZS1wcmV2aWV3IGZvciBpbWFnZSBlZGl0aW5nLlxuICogQHBhcmFtIGltYWdlRmlsZSBUaGUgb3JpZ2luYWwgaW1hZ2UgZmlsZS5cbiAqIEBwYXJhbSBwcm9tcHQgVGhlIHVzZXIncyBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBjaGFuZ2VzLlxuICogQHJldHVybnMgQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZGVzaWduSW1hZ2UgPSBhc3luYyAoaW1hZ2VGaWxlOiBGaWxlLCBwcm9tcHQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4gPT4ge1xuICAvLyBGaXg6IENvbnZlcnQgZmlsZSB0byBiYXNlNjQgZm9yIHRoZSBBUEkgcmVxdWVzdC5cbiAgY29uc3QgYmFzZTY0SW1hZ2VEYXRhID0gYXdhaXQgZmlsZVRvQmFzZTY0KGltYWdlRmlsZSk7XG5cbiAgLy8gRml4OiBVc2UgZ2VuZXJhdGVDb250ZW50IHdpdGggdGhlIGltYWdlIGVkaXRpbmcgbW9kZWwuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudCh7XG4gICAgbW9kZWw6ICdnZW1pbmktMi41LWZsYXNoLWltYWdlLXByZXZpZXcnLFxuICAgIGNvbnRlbnRzOiB7XG4gICAgICBwYXJ0czogW1xuICAgICAgICB7XG4gICAgICAgICAgaW5saW5lRGF0YToge1xuICAgICAgICAgICAgZGF0YTogYmFzZTY0SW1hZ2VEYXRhLFxuICAgICAgICAgICAgbWltZVR5cGU6IGltYWdlRmlsZS50eXBlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBgUmVkZXNpZ24gdGhpcyByb29tIHdpdGggdGhlIGZvbGxvd2luZyBzdHlsZTogJHtwcm9tcHR9YCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIC8vIEZpeDogcmVzcG9uc2VNb2RhbGl0aWVzIG11c3QgaW5jbHVkZSBib3RoIElNQUdFIGFuZCBURVhUIGZvciB0aGlzIG1vZGVsLlxuICAgICAgcmVzcG9uc2VNb2RhbGl0aWVzOiBbTW9kYWxpdHkuSU1BR0UsIE1vZGFsaXR5LlRFWFRdLFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIEZpeDogRXh0cmFjdCB0aGUgZ2VuZXJhdGVkIGltYWdlIGRhdGEgZnJvbSB0aGUgcmVzcG9uc2UuXG4gIC8vIFRoZSBtb2RlbCBjYW4gcmV0dXJuIGJvdGggdGV4dCBhbmQgaW1hZ2UsIHNvIHdlIGxvb3AgdG8gZmluZCB0aGUgaW1hZ2UgcGFydC5cbiAgZm9yIChjb25zdCBwYXJ0IG9mIHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0cykge1xuICAgIGlmIChwYXJ0LmlubGluZURhdGEpIHtcbiAgICAgIHJldHVybiBwYXJ0LmlubGluZURhdGEuZGF0YTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIEZpeDogQWRkIG1pc3NpbmcgZ2VuZXJhdGVWaWRlbyBmdW5jdGlvbiB0byByZXNvbHZlIGltcG9ydCBlcnJvci5cbi8qKlxuICogR2VuZXJhdGVzIGEgdmlkZW8gYmFzZWQgb24gYSB0ZXh0IHByb21wdCBhbmQgYW4gb3B0aW9uYWwgaW1hZ2UuXG4gKiBVc2VzIHZlby0yLjAtZ2VuZXJhdGUtMDAxLlxuICogQHBhcmFtIHByb21wdCBUaGUgdGV4dCBwcm9tcHQgZm9yIHZpZGVvIGdlbmVyYXRpb24uXG4gKiBAcGFyYW0gaW1hZ2VGaWxlIEFuIG9wdGlvbmFsIGluaXRpYWwgaW1hZ2UuXG4gKiBAcGFyYW0gYXNwZWN0UmF0aW8gVGhlIGRlc2lyZWQgYXNwZWN0IHJhdGlvIG9mIHRoZSB2aWRlby5cbiAqIEBwYXJhbSBzZXRQcm9ncmVzc01lc3NhZ2UgQSBjYWxsYmFjayB0byB1cGRhdGUgdGhlIFVJIHdpdGggcHJvZ3Jlc3MuXG4gKiBAcmV0dXJucyBBIFVSTCBmb3IgdGhlIGdlbmVyYXRlZCB2aWRlbywgb3IgbnVsbCBpZiBpdCBmYWlscy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVmlkZW8gPSBhc3luYyAoXG4gIHByb21wdDogc3RyaW5nLFxuICBpbWFnZUZpbGU6IEZpbGUgfCBudWxsLFxuICBhc3BlY3RSYXRpbzogc3RyaW5nLFxuICBzZXRQcm9ncmVzc01lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWRcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4gPT4ge1xuICBzZXRQcm9ncmVzc01lc3NhZ2UoJ1ByZXBhcmluZyBhc3NldHMgZm9yIHZpZGVvIGdlbmVyYXRpb24uLi4nKTtcblxuICBjb25zdCBnZW5lcmF0ZVZpZGVvc1BhcmFtczogYW55ID0ge1xuICAgIG1vZGVsOiAndmVvLTIuMC1nZW5lcmF0ZS0wMDEnLFxuICAgIHByb21wdDogYCR7cHJvbXB0fSAoYXNwZWN0IHJhdGlvOiAke2FzcGVjdFJhdGlvfSlgLFxuICAgIGNvbmZpZzoge1xuICAgICAgbnVtYmVyT2ZWaWRlb3M6IDEsXG4gICAgfSxcbiAgfTtcblxuICBpZiAoaW1hZ2VGaWxlKSB7XG4gICAgc2V0UHJvZ3Jlc3NNZXNzYWdlKCdFbmNvZGluZyBpbWFnZSBmb3IgdmlkZW8gZ2VuZXJhdGlvbi4uLicpO1xuICAgIGNvbnN0IGJhc2U2NEltYWdlRGF0YSA9IGF3YWl0IGZpbGVUb0Jhc2U2NChpbWFnZUZpbGUpO1xuICAgIGdlbmVyYXRlVmlkZW9zUGFyYW1zLmltYWdlID0ge1xuICAgICAgaW1hZ2VCeXRlczogYmFzZTY0SW1hZ2VEYXRhLFxuICAgICAgbWltZVR5cGU6IGltYWdlRmlsZS50eXBlLFxuICAgIH07XG4gIH1cblxuICBzZXRQcm9ncmVzc01lc3NhZ2UoJ1NlbmRpbmcgcmVxdWVzdCB0byB2aWRlbyBnZW5lcmF0aW9uIG1vZGVsLi4uJyk7XG4gIGxldCBvcGVyYXRpb24gPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVWaWRlb3MoZ2VuZXJhdGVWaWRlb3NQYXJhbXMpO1xuICBcbiAgc2V0UHJvZ3Jlc3NNZXNzYWdlKCdWaWRlbyBnZW5lcmF0aW9uIGluIHByb2dyZXNzLi4uIFRoaXMgbWF5IHRha2UgYSBmZXcgbWludXRlcy4nKTtcbiAgXG4gIHdoaWxlICghb3BlcmF0aW9uLmRvbmUpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMDApKTtcbiAgICBzZXRQcm9ncmVzc01lc3NhZ2UoJ0NoZWNraW5nIHZpZGVvIHN0YXR1cy4uLicpO1xuICAgIG9wZXJhdGlvbiA9IGF3YWl0IGFpLm9wZXJhdGlvbnMuZ2V0VmlkZW9zT3BlcmF0aW9uKHsgb3BlcmF0aW9uOiBvcGVyYXRpb24gfSk7XG4gIH1cblxuICBjb25zdCBkb3dubG9hZExpbmsgPSBvcGVyYXRpb24ucmVzcG9uc2U/LmdlbmVyYXRlZFZpZGVvcz8uWzBdPy52aWRlbz8udXJpO1xuXG4gIGlmICghZG93bmxvYWRMaW5rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdWaWRlbyBnZW5lcmF0aW9uIHN1Y2NlZWRlZCBidXQgbm8gZG93bmxvYWQgbGluayB3YXMgZm91bmQuJyk7XG4gIH1cblxuICBzZXRQcm9ncmVzc01lc3NhZ2UoJ1ZpZGVvIGdlbmVyYXRlZCEgRG93bmxvYWRpbmcgdmlkZW8gZGF0YS4uLicpO1xuICAvLyBUaGUgcmVzcG9uc2UuYm9keSBjb250YWlucyB0aGUgTVA0IGJ5dGVzLiBZb3UgbXVzdCBhcHBlbmQgYW4gQVBJIGtleSB3aGVuIGZldGNoaW5nIGZyb20gdGhlIGRvd25sb2FkIGxpbmsuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZG93bmxvYWRMaW5rfSZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HRU1JTklfQVBJX0tFWX1gKTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRvd25sb2FkIHZpZGVvOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBjb25zdCB2aWRlb0Jsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gIGNvbnN0IHZpZGVvVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh2aWRlb0Jsb2IpO1xuICBcbiAgc2V0UHJvZ3Jlc3NNZXNzYWdlKCdWaWRlbyByZWFkeSEnKTtcbiAgcmV0dXJuIHZpZGVvVXJsO1xufTtcblxuLyoqXG4gKiBBbmFseXplcyBhIGhvbWUgZmxvb3IgcGxhbiBpbWFnZSBhbmQgZXh0cmFjdHMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYXMgSlNPTi5cbiAqIFVzZXMgZ2VtaW5pLTIuNS1mbGFzaC5cbiAqIEBwYXJhbSBpbWFnZUZpbGUgVGhlIGZsb29yIHBsYW4gaW1hZ2UuXG4gKiBAcmV0dXJucyBBIEpTT04gc3RyaW5nIHdpdGggdGhlIGRldGFpbGVkIGFuYWx5c2lzLlxuICovXG5leHBvcnQgY29uc3QgYW5hbHl6ZUhvbWVQbGFuID0gYXN5bmMgKGltYWdlRmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4gPT4ge1xuICBjb25zdCBiYXNlNjRJbWFnZURhdGEgPSBhd2FpdCBmaWxlVG9CYXNlNjQoaW1hZ2VGaWxlKTtcblxuICBjb25zdCBzY2hlbWEgPSB7XG4gICAgdHlwZTogVHlwZS5PQkpFQ1QsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgcm9vbXM6IHtcbiAgICAgICAgdHlwZTogVHlwZS5BUlJBWSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTGlzdCBvZiBhbGwgcm9vbXMgYW5kIGRpc3RpbmN0IHNwYWNlcyBpZGVudGlmaWVkIGluIHRoZSBmbG9vciBwbGFuLlwiLFxuICAgICAgICBpdGVtczoge1xuICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG5hbWUgb2YgdGhlIHNwYWNlIChlLmcuLCBcIkxpdmluZyBSb29tXCIsIFwiTWFzdGVyIEJlZHJvb21cIiwgXCJNYXN0ZXIgQmF0aHJvb21cIikuJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb29tVHlwZToge1xuICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgdHlwZSBvZiByb29tIChlLmcuLCBcIkJlZHJvb21cIiwgXCJCYXRocm9vbVwiLCBcIktpdGNoZW5cIiwgXCJMaXZpbmcgUm9vbVwiLCBcIkdhcmFnZVwiLCBcIlV0aWxpdHkgUm9vbVwiLCBcIkNsb3NldFwiLCBcIkhhbGx3YXlcIikuJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBleGFjdCBkaW1lbnNpb25zIG9mIHRoZSByb29tIGFzIHdyaXR0ZW4gb24gdGhlIHBsYW4gKGUuZy4sIFwiMTJmdCB4IDE1ZnRcIiwgXCI4XFwnNlxcXCIgeCAxMFxcJzNcXFwiXCIpLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXJlYToge1xuICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgY2FsY3VsYXRlZCBhcmVhIG9mIHRoZSByb29tIGluIHNxdWFyZSBmZWV0IChlLmcuLCBcIjE4MCBzcSBmdFwiLCBcIjEyMCBzcSBmdFwiKS4nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFR5cGUuQVJSQVksXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkEgY29tcHJlaGVuc2l2ZSBsaXN0IG9mIGFsbCBmZWF0dXJlcyB3aXRoaW4gdGhpcyBzcGFjZSwgaW5jbHVkaW5nIHRoZWlyIHByZWNpc2UgbG9jYXRpb25zIGFuZCBzcGVjaWZpY2F0aW9ucy5cIixcbiAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLk9CSkVDVCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiB7IFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORywgXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIChlLmcuLCAnV2luZG93JywgJ0Rvb3InLCAnU2luaycsICdTaG93ZXInLCAnVG9pbGV0JywgJ1NvZmEnLCAnQmVkJywgJ0Nsb3NldCcpLlwiIFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORywgXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBwcmVjaXNlIGxvY2F0aW9uIG9mIHRoZSBmZWF0dXJlIChlLmcuLCAnQ2VudGVyZWQgb24gdGhlIG5vcnRoIHdhbGwnLCAnSW4gdGhlIHNvdXRoZWFzdCBjb3JuZXInLCAnTGVmdCBvZiB0aGUgbWFpbiBlbnRyYW5jZScsICdBZ2FpbnN0IHRoZSB3ZXN0IHdhbGwnKS5cIiBcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUaGUgc2l6ZSBvciBkaW1lbnNpb25zIG9mIHRoZSBmZWF0dXJlIGlmIHZpc2libGUgKGUuZy4sICczZnQgd2lkZScsICdTdGFuZGFyZCBzaXplJywgJ0RvdWJsZSBkb29yJywgJ0JheSB3aW5kb3cnKS5cIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB0eXBlIG9yIHN0eWxlIG9mIHRoZSBmZWF0dXJlIChlLmcuLCAnU2xpZGluZyBkb29yJywgJ0ZyZW5jaCBkb29yJywgJ1NpbmdsZSBodW5nIHdpbmRvdycsICdXYWxrLWluIHNob3dlcicsICdGcmVlc3RhbmRpbmcgdHViJykuXCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mbzoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQW55IGFkZGl0aW9uYWwgcmVsZXZhbnQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZlYXR1cmUgKGUuZy4sICdPcGVucyB0byBleHRlcmlvcicsICdDb25uZWN0cyB0byBoYWxsd2F5JywgJ0hhcyBidWlsdC1pbiBzdG9yYWdlJywgJ0luY2x1ZGVzIG1lZGljaW5lIGNhYmluZXQnKS5cIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFsnbmFtZScsICdwb3NpdGlvbiddXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9vcnM6IHtcbiAgICAgICAgICAgICAgdHlwZTogVHlwZS5BUlJBWSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIGRvb3JzIGluIHRoaXMgcm9vbS5cIixcbiAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUeXBlLk9CSkVDVCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiV2hlcmUgdGhlIGRvb3IgaXMgbG9jYXRlZCAoZS5nLiwgJ05vcnRoIHdhbGwnLCAnRWFzdCB3YWxsJylcIiB9LFxuICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcsIGRlc2NyaXB0aW9uOiBcIldoZXJlIHRoZSBkb29yIGxlYWRzIHRvIChlLmcuLCAnSGFsbHdheScsICdNYXN0ZXIgQmVkcm9vbScsICdFeHRlcmlvcicpXCIgfSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHsgdHlwZTogVHlwZS5TVFJJTkcsIGRlc2NyaXB0aW9uOiBcIlR5cGUgb2YgZG9vciAoZS5nLiwgJ1NpbmdsZSBkb29yJywgJ0RvdWJsZSBkb29yJywgJ1NsaWRpbmcgZG9vcicsICdQb2NrZXQgZG9vcicpXCIgfSxcbiAgICAgICAgICAgICAgICAgIHN3aW5nOiB7IHR5cGU6IFR5cGUuU1RSSU5HLCBkZXNjcmlwdGlvbjogXCJEb29yIHN3aW5nIGRpcmVjdGlvbiBpZiB2aXNpYmxlIChlLmcuLCAnU3dpbmcgaW4nLCAnU3dpbmcgb3V0JywgJ0xlZnQgc3dpbmcnLCAnUmlnaHQgc3dpbmcnKVwiIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbJ2xvY2F0aW9uJywgJ2Rlc3RpbmF0aW9uJ11cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdpbmRvd3M6IHtcbiAgICAgICAgICAgICAgdHlwZTogVHlwZS5BUlJBWSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHdpbmRvd3MgaW4gdGhpcyByb29tLlwiLFxuICAgICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IHR5cGU6IFR5cGUuU1RSSU5HLCBkZXNjcmlwdGlvbjogXCJXaGVyZSB0aGUgd2luZG93IGlzIGxvY2F0ZWQgKGUuZy4sICdOb3J0aCB3YWxsJywgJ1NvdXRoIHdhbGwnKVwiIH0sXG4gICAgICAgICAgICAgICAgICB0eXBlOiB7IHR5cGU6IFR5cGUuU1RSSU5HLCBkZXNjcmlwdGlvbjogXCJUeXBlIG9mIHdpbmRvdyAoZS5nLiwgJ1NpbmdsZSBodW5nJywgJ0RvdWJsZSBodW5nJywgJ0JheSB3aW5kb3cnLCAnUGljdHVyZSB3aW5kb3cnKVwiIH0sXG4gICAgICAgICAgICAgICAgICBzaXplOiB7IHR5cGU6IFR5cGUuU1RSSU5HLCBkZXNjcmlwdGlvbjogXCJTaXplIG9mIHRoZSB3aW5kb3cgaWYgdmlzaWJsZSAoZS5nLiwgJzNmdCB3aWRlJywgJ0xhcmdlIHdpbmRvdycsICdTbWFsbCB3aW5kb3cnKVwiIH0sXG4gICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiQWRkaXRpb25hbCB3aW5kb3cgZGV0YWlscyAoZS5nLiwgJ0Nvcm5lciB3aW5kb3cnLCAnV2luZG93IHNlYXQnLCAnU2t5bGlnaHQnKVwiIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbJ2xvY2F0aW9uJ11cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpeHR1cmVzOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFR5cGUuQVJSQVksXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGFsbCBmaXh0dXJlcyBhbmQgYnVpbHQtaW4gZWxlbWVudHMuXCIsXG4gICAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogVHlwZS5PQkpFQ1QsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgbmFtZTogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiTmFtZSBvZiB0aGUgZml4dHVyZSAoZS5nLiwgJ1NpbmsnLCAnVG9pbGV0JywgJ1Nob3dlcicsICdCYXRodHViJywgJ0tpdGNoZW4gSXNsYW5kJylcIiB9LFxuICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcsIGRlc2NyaXB0aW9uOiBcIlByZWNpc2UgbG9jYXRpb24gb2YgdGhlIGZpeHR1cmVcIiB9LFxuICAgICAgICAgICAgICAgICAgdHlwZTogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiVHlwZSBvciBzdHlsZSBvZiBmaXh0dXJlIChlLmcuLCAnUGVkZXN0YWwgc2luaycsICdXYWxrLWluIHNob3dlcicsICdGcmVlc3RhbmRpbmcgdHViJywgJ0J1aWx0LWluIG92ZW4nKVwiIH0sXG4gICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiQWRkaXRpb25hbCBmaXh0dXJlIGRldGFpbHMgKGUuZy4sICdEb3VibGUgdmFuaXR5JywgJ0Nvcm5lciBzaG93ZXInLCAnR2FyZGVuIHR1YicpXCIgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFsnbmFtZScsICdsb2NhdGlvbiddXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9yYWdlOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFR5cGUuQVJSQVksXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkluZm9ybWF0aW9uIGFib3V0IHN0b3JhZ2UgYXJlYXMgYW5kIGNsb3NldHMuXCIsXG4gICAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogVHlwZS5PQkpFQ1QsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiVHlwZSBvZiBzdG9yYWdlIChlLmcuLCAnV2Fsay1pbiBjbG9zZXQnLCAnQnVpbHQtaW4gc2hlbHZpbmcnLCAnUGFudHJ5JywgJ0NvYXQgY2xvc2V0JylcIiB9LFxuICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcsIGRlc2NyaXB0aW9uOiBcIkxvY2F0aW9uIG9mIHRoZSBzdG9yYWdlIGFyZWFcIiB9LFxuICAgICAgICAgICAgICAgICAgc2l6ZTogeyB0eXBlOiBUeXBlLlNUUklORywgZGVzY3JpcHRpb246IFwiU2l6ZSBvZiB0aGUgc3RvcmFnZSBhcmVhIGlmIHZpc2libGVcIiB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogWyd0eXBlJywgJ2xvY2F0aW9uJ11cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdGVzOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBbnkgYWRkaXRpb25hbCBub3RlcyBvciBvYnNlcnZhdGlvbnMgYWJvdXQgdGhpcyByb29tIChlLmcuLCAnT3BlbiBjb25jZXB0JywgJ0hhcyB2YXVsdGVkIGNlaWxpbmcnLCAnQ29ybmVyIHJvb20nLCAnQWNjZXNzaWJsZSBkZXNpZ24gZmVhdHVyZXMnKS5cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFsnbmFtZScsICdyb29tVHlwZScsICdkaW1lbnNpb25zJywgJ2ZlYXR1cmVzJ10sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmVxdWlyZWQ6IFsncm9vbXMnXSxcbiAgfTtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgIG1vZGVsOiAnZ2VtaW5pLTIuNS1mbGFzaCcsXG4gICAgY29udGVudHM6IHtcbiAgICAgIHBhcnRzOiBbXG4gICAgICAgIHsgaW5saW5lRGF0YTogeyBkYXRhOiBiYXNlNjRJbWFnZURhdGEsIG1pbWVUeXBlOiBpbWFnZUZpbGUudHlwZSB9IH0sXG4gICAgICAgIHsgdGV4dDogXCJBbmFseXplIHRoZSBwcm92aWRlZCBmbG9vciBwbGFuIGltYWdlLlwiIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgY29uZmlnOiB7XG4gICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogYFlvdSBhcmUgYW4gZXhwZXJ0IGFyY2hpdGVjdHVyYWwgcGxhbiBhbmFseXN0LiBZb3VyIHRhc2sgaXMgdG8gbWV0aWN1bG91c2x5IGFuYWx5emUgdGhlIHVzZXIncyBmbG9vciBwbGFuIGltYWdlIHdpdGggY29tcHJlaGVuc2l2ZSBkZXRhaWwuXG5cbiAgICAgIEFOQUxZU0lTIFJFUVVJUkVNRU5UUzpcbiAgICAgIDEuIElkZW50aWZ5IGV2ZXJ5IGRpc3RpbmN0IHJvb20gYW5kIHNwYWNlIChlLmcuLCBMaXZpbmcgUm9vbSwgTWFzdGVyIEJlZHJvb20sIE1hc3RlciBCYXRocm9vbSwgS2l0Y2hlbiwgR2FyYWdlLCBVdGlsaXR5IFJvb20sIENsb3NldCwgSGFsbHdheSkuXG4gICAgICAyLiBGb3IgZWFjaCBzcGFjZSwgZXh0cmFjdCBpdHMgZXhhY3QgZGltZW5zaW9ucyBhcyB3cml0dGVuIG9uIHRoZSBwbGFuIGFuZCBjYWxjdWxhdGUgdGhlIGFyZWEuXG4gICAgICAzLiBDYXRlZ29yaXplIGVhY2ggcm9vbSBieSB0eXBlIChCZWRyb29tLCBCYXRocm9vbSwgS2l0Y2hlbiwgTGl2aW5nIFJvb20sIEdhcmFnZSwgVXRpbGl0eSBSb29tLCBDbG9zZXQsIEhhbGx3YXkpLlxuICAgICAgXG4gICAgICBERVRBSUxFRCBGRUFUVVJFIEFOQUxZU0lTOlxuICAgICAgNC4gRm9yIGVhY2ggcm9vbSwgaWRlbnRpZnkgYW5kIGNhdGVnb3JpemUgQUxMIGZlYXR1cmVzOlxuICAgICAgICAgLSBET09SUzogTG9jYXRpb24sIGRlc3RpbmF0aW9uLCB0eXBlIChzaW5nbGUvZG91YmxlL3NsaWRpbmcvcG9ja2V0KSwgc3dpbmcgZGlyZWN0aW9uXG4gICAgICAgICAtIFdJTkRPV1M6IExvY2F0aW9uLCB0eXBlIChzaW5nbGUgaHVuZy9kb3VibGUgaHVuZy9iYXkvcGljdHVyZSksIHNpemUsIHNwZWNpYWwgZmVhdHVyZXNcbiAgICAgICAgIC0gRklYVFVSRVM6IEZvciBiYXRocm9vbXMgLSBleGFjdCBwb3NpdGlvbnMgb2Ygc2lua3MsIHRvaWxldHMsIHNob3dlcnMsIGJhdGh0dWJzLCB2YW5pdGllc1xuICAgICAgICAgLSBGSVhUVVJFUzogRm9yIGtpdGNoZW5zIC0gZXhhY3QgcG9zaXRpb25zIG9mIGFwcGxpYW5jZXMsIGlzbGFuZHMsIHNpbmtzLCBjYWJpbmV0c1xuICAgICAgICAgLSBGSVhUVVJFUzogRm9yIGJlZHJvb21zIC0gZXhhY3QgcG9zaXRpb25zIG9mIGJlZHMsIGRyZXNzZXJzLCBjbG9zZXRzXG4gICAgICAgICAtIFNUT1JBR0U6IEFsbCBjbG9zZXRzLCBwYW50cmllcywgYnVpbHQtaW4gc2hlbHZpbmcgd2l0aCBsb2NhdGlvbnMgYW5kIHNpemVzXG4gICAgICAgICAtIEZVUk5JVFVSRTogU29mYXMsIHRhYmxlcywgY2hhaXJzIHdpdGggcHJlY2lzZSBwb3NpdGlvbmluZ1xuICAgICAgXG4gICAgICBQT1NJVElPTklORyBTUEVDSUZJQ0lUWTpcbiAgICAgIDUuIEZvciBldmVyeSBmZWF0dXJlLCBwcm92aWRlIFBSRUNJU0UgcG9zaXRpb25pbmc6XG4gICAgICAgICAtIFVzZSBjYXJkaW5hbCBkaXJlY3Rpb25zIChub3J0aCwgc291dGgsIGVhc3QsIHdlc3Qgd2FsbHMpXG4gICAgICAgICAtIFNwZWNpZnkgZXhhY3QgbG9jYXRpb25zIChjZW50ZXJlZCwgY29ybmVyLCBsZWZ0L3JpZ2h0IHNpZGUpXG4gICAgICAgICAtIEluY2x1ZGUgcmVsYXRpb25zaGlwcyB0byBvdGhlciBmZWF0dXJlcyAobmV4dCB0bywgb3Bwb3NpdGUsIGFkamFjZW50KVxuICAgICAgICAgLSBOb3RlIGFueSBzcGVjaWFsIGFycmFuZ2VtZW50cyAoTC1zaGFwZWQsIFUtc2hhcGVkLCBpc2xhbmQgcGxhY2VtZW50KVxuICAgICAgXG4gICAgICBST09NLVNQRUNJRklDIERFVEFJTFM6XG4gICAgICA2LiBGb3IgQkFUSFJPT01TOiBJZGVudGlmeSBleGFjdCBwb3NpdGlvbnMgb2YgYWxsIGZpeHR1cmVzIChzaW5rLCB0b2lsZXQsIHNob3dlciwgYmF0aHR1YiwgdmFuaXR5LCBtZWRpY2luZSBjYWJpbmV0LCBsaW5lbiBjbG9zZXQpXG4gICAgICA3LiBGb3IgS0lUQ0hFTlM6IElkZW50aWZ5IGV4YWN0IHBvc2l0aW9ucyBvZiBhbGwgYXBwbGlhbmNlcyAocmVmcmlnZXJhdG9yLCBzdG92ZSwgZGlzaHdhc2hlciwgbWljcm93YXZlKSwgaXNsYW5kcywgc2lua3MsIGNhYmluZXRzXG4gICAgICA4LiBGb3IgQkVEUk9PTVM6IElkZW50aWZ5IGV4YWN0IHBvc2l0aW9ucyBvZiBiZWRzLCBkcmVzc2VycywgbmlnaHRzdGFuZHMsIGNsb3NldHMsIHdpbmRvd3NcbiAgICAgIDkuIEZvciBHQVJBR0VTOiBJZGVudGlmeSBleGFjdCBwb3NpdGlvbnMgb2YgdmVoaWNsZXMsIHN0b3JhZ2UgYXJlYXMsIHdvcmtiZW5jaGVzLCBkb29yc1xuICAgICAgMTAuIEZvciBVVElMSVRZIFJPT01TOiBJZGVudGlmeSBleGFjdCBwb3NpdGlvbnMgb2Ygd2FzaGVyLCBkcnllciwgd2F0ZXIgaGVhdGVyLCBlbGVjdHJpY2FsIHBhbmVsc1xuICAgICAgXG4gICAgICBBRERJVElPTkFMIElORk9STUFUSU9OOlxuICAgICAgMTEuIE5vdGUgYW55IHNwZWNpYWwgYXJjaGl0ZWN0dXJhbCBmZWF0dXJlcyAodmF1bHRlZCBjZWlsaW5ncywgb3BlbiBjb25jZXB0cywgY29ybmVyIHJvb21zKVxuICAgICAgMTIuIElkZW50aWZ5IGFjY2Vzc2liaWxpdHkgZmVhdHVyZXMgaWYgcHJlc2VudFxuICAgICAgMTMuIE5vdGUgYW55IHVudXN1YWwgb3IgY3VzdG9tIGVsZW1lbnRzXG4gICAgICBcbiAgICAgIFJldHVybiB5b3VyIGNvbXBsZXRlIGFuYWx5c2lzIGFzIGEgc2luZ2xlIEpTT04gb2JqZWN0IHRoYXQgc3RyaWN0bHkgYWRoZXJlcyB0byB0aGUgcHJvdmlkZWQgc2NoZW1hLiBJbmNsdWRlIEFMTCBhdmFpbGFibGUgaW5mb3JtYXRpb24gLSBkbyBub3Qgb21pdCBhbnkgZGV0YWlscy5gLFxuICAgICAgcmVzcG9uc2VNaW1lVHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICByZXNwb25zZVNjaGVtYTogc2NoZW1hLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiByZXNwb25zZS50ZXh0O1xufTsiXSwibmFtZXMiOlsiR29vZ2xlR2VuQUkiLCJNb2RhbGl0eSIsIlR5cGUiLCJmaWxlVG9CYXNlNjQiLCJhaSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HRU1JTklfQVBJX0tFWSIsInJlZGVzaWduSW1hZ2UiLCJpbWFnZUZpbGUiLCJwcm9tcHQiLCJiYXNlNjRJbWFnZURhdGEiLCJyZXNwb25zZSIsIm1vZGVscyIsImdlbmVyYXRlQ29udGVudCIsIm1vZGVsIiwiY29udGVudHMiLCJwYXJ0cyIsImlubGluZURhdGEiLCJkYXRhIiwibWltZVR5cGUiLCJ0eXBlIiwidGV4dCIsImNvbmZpZyIsInJlc3BvbnNlTW9kYWxpdGllcyIsIklNQUdFIiwiVEVYVCIsInBhcnQiLCJjYW5kaWRhdGVzIiwiY29udGVudCIsImdlbmVyYXRlVmlkZW8iLCJhc3BlY3RSYXRpbyIsInNldFByb2dyZXNzTWVzc2FnZSIsIm9wZXJhdGlvbiIsImdlbmVyYXRlVmlkZW9zUGFyYW1zIiwibnVtYmVyT2ZWaWRlb3MiLCJpbWFnZSIsImltYWdlQnl0ZXMiLCJnZW5lcmF0ZVZpZGVvcyIsImRvbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJvcGVyYXRpb25zIiwiZ2V0VmlkZW9zT3BlcmF0aW9uIiwiZG93bmxvYWRMaW5rIiwiZ2VuZXJhdGVkVmlkZW9zIiwidmlkZW8iLCJ1cmkiLCJFcnJvciIsImZldGNoIiwib2siLCJzdGF0dXNUZXh0IiwidmlkZW9CbG9iIiwiYmxvYiIsInZpZGVvVXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYW5hbHl6ZUhvbWVQbGFuIiwic2NoZW1hIiwiT0JKRUNUIiwicHJvcGVydGllcyIsInJvb21zIiwiQVJSQVkiLCJkZXNjcmlwdGlvbiIsIml0ZW1zIiwibmFtZSIsIlNUUklORyIsInJvb21UeXBlIiwiZGltZW5zaW9ucyIsImFyZWEiLCJmZWF0dXJlcyIsInBvc2l0aW9uIiwic2l6ZSIsImFkZGl0aW9uYWxJbmZvIiwicmVxdWlyZWQiLCJkb29ycyIsImxvY2F0aW9uIiwiZGVzdGluYXRpb24iLCJzd2luZyIsIndpbmRvd3MiLCJmaXh0dXJlcyIsInN0b3JhZ2UiLCJub3RlcyIsInN5c3RlbUluc3RydWN0aW9uIiwicmVzcG9uc2VNaW1lVHlwZSIsInJlc3BvbnNlU2NoZW1hIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./services/geminiService.ts\n"));

/***/ })

});